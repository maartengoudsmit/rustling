---
title: Relative date filter in Eleventy
tags:
  - eleventy
  - javascript
published: '2026-02-23T16:16:35.098Z'
updated: '2026-02-24T16:17:39.710Z'
---

For this new blog, I wanted to display the time since the post was published, e.g. “two days ago”. My CMS appends a `published` and `updated` date to each post automatically, indicating when it was originally published and when it was last updated. These are formatted like this: `2026-02-18T21:58:50.158Z`.

I wanted to use the templating language support built into Eleventy to turn a hard-to-read date string into a *relative date*, such as “5 days ago”. In Eleventy, you can set up customer filters that allow you to easily transform data, which is exactly what I'm trying to do here. For example, let's say you are editing a page with a `title` property of “About Me". If you wanted to render this in uppercase, you would write `{{ title | upcase }}` (in Liquid). Let's introduce a `relative_date` filter.

The first step is working out the logic that translates the time difference between `Date.now()` and the timestamp attached to each post. I went with the following implementation:

```javascript
const relativeDate = (input) => {
  const diff = new Date(input) - Date.now();
  const rel = new Intl.RelativeTimeFormat("en", {
    style: "long",
    numeric: "auto",
  });

  const units = [
    { unit: "year", ms: 1000 * 60 * 60 * 24 * 365 },
    { unit: "month", ms: 1000 * 60 * 60 * 24 * 30 }, // Choosing to ignore that months have different durations in days
    { unit: "week", ms: 1000 * 60 * 60 * 24 * 7 },
    { unit: "day", ms: 1000 * 60 * 60 * 24 },
    { unit: "hour", ms: 1000 * 60 * 60 },
    { unit: "minute", ms: 1000 * 60 },
  ];

  // Find the largest time unit that exceeds the corresponding ms thresholds
  const { unit, ms } =
    units.find(({ ms }) => Math.abs(diff) >= ms) ?? units.at(-1);
  return rel.format(Math.round(diff / ms), unit);
};

```

This relies on the native JavaScript `Intl.RelativeTimeFormat` API, which provides all this logic out of the box. It's amazing to have such a powerful API natively supported in the language, rather than having to use a library.

Second, we want to ensure that this code is accessible within the templates of my blog.

```javascript
eleventyConfig.addFilter("relative_date", (input) => {
    return `<span class="relative-date" data-date="${input}">${relativeDate(
      input,
    )}</span>`;
  });
```

This code creates a filter relative\_date which wraps the input (the data) in a span element with a relevant class. I'm also baking the publication date into a data-\* attribute, so it's easier to use in the next step.

Combining these two steps, we now have what we need. Let's say we have a Markdown page with the following frontmatter.

```markdown
---
title: Relative date filter in Eleventy
tags:
  - eleventy
  - javascript
published: '2026-02-23T16:16:35.098Z'
updated: '2026-02-23T16:28:24.036Z'
---
```

We can now easily use our filter {{ published | relative\_date }} to get the output \<span class="relative-date" data-date="2026-02-23T16:16:35.098Z">24 hours ago\</span>.

However, Eleventy generates static sites and the above code is only generated at build time. If we built the site a week ago, then the relative time difference will be a week out of date.
