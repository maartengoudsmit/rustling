---
title: Relative date filter in Eleventy
tags:
  - eleventy
  - javascript
published: '2026-02-23T16:16:35.098Z'
updated: '2026-02-23T18:35:22.743Z'
---

For this new blog, I wanted to display the time since the post was published, e.g. “two days ago”. In other words, I want to be able to write this `{%raw %}{{ publication\_date | relative\_date }}{%endraw%}` and turn `2026-02-18T21:58:50.158Z` into “5 days ago”.
Eleventy allows you to configure custom filters, which are then accessible in your template files. This means adding some code to your `eleventy.config.js` file.

I went with the following implementation:

```js
export default function (eleventyConfig) {
  eleventyConfig.addFilter("relative_date", (input) => {
    const date = new Date(input);
    const pastDate = new Date(date);
    const difference = pastDate - Date.now();
    const rel = new Intl.RelativeTimeFormat("en", {
      style: "long",
      numeric: "auto",
    });
    const relString = (formatter, value, unit) =>
      `${formatter.format(Math.round(value), unit)}`;

    const seconds = difference / 1000;
    const minutes = seconds / 60;
    const hours = minutes / 60;
    const days = hours / 24;
    const weeks = days / 7;
    const years = days / 365;

    if (years < -1) return relString(rel, years, "year");
    else if (weeks < -1) return relString(rel, weeks, "week");
    else if (days < -1) return relString(rel, days, "day");
    else if (hours < -1) return relString(rel, hours, "hour");
    else return relString(rel, minutes, "minute");
  });
}
```

This implementation assumes that if at least one year has passed, then it should output the the time in “x years ago”. If not, it should output in weeks, days, hours or - finally - minutes.
